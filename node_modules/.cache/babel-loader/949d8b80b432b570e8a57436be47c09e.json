{"ast":null,"code":"var _jsxFileName = \"/home/krystian/CodersLab_JavaScript_Brudnopis/Emplyee-App/src/containers/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../dev-assets/style.scss';\nimport Employees from '../components/Employees/Employees';\nimport EmployeeDetails from '../components/Employees/EmployeeDetails/EmployeeDetails'; // Pobieranie danych z komponetu Reacta wymaga zastosaowania zaczepów useState, useEffect\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  // Zaczep useState służy do przechowywania odpowiedzi w danych \n  const [employees, setEmployees] = useState([]);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [error, setError] = useState(); // Obiekt error, dla monitorowania błedów\n\n  const [loading, setLoading] = useState(false); // Gdy żądanie ma status w toku w elemencie h1 wyświetlany jest jest komunikat \n  // w SelectedEmployee przechowywana jest informacja o jednym konkretnym pracowniku, dopóki żaden nie zostanie wybrany będzie wyświetlany 'null'\n  // Zaczep useEffect służy do wykonania żądania\n\n  useEffect(() => {\n    // Na adres puszczam żądanie GET aby dostać listę z pracownikami, która będzie zapisywana w stacie App, która będzie przekazywana do komponentu <Employees/>, najpierw komponenty się wyrenderują a potem zostanie puszczone zapytanie HTTP, po otrzymaniu odpowiedzi asynchronicznie zaktualizuje się nasz stan\n    // (fetch = sprowadzać)\n    fetch('http://dummy.restapiexample.com/api/v1/employees', {\n      method: 'GET' // headers: {\n      //   'Content-Type': 'application/json'\n      // },\n      // body: JSON.stringify({\n      // })\n\n    }).then(res => res.json()).then(res => {\n      console.log(res.data);\n      console.log(res.status);\n      const employeeArray = res.data;\n      console.log(employeeArray, \"employeeArray\"); // W stałej employees zapisuje to co nam zwraca ta metoda\n\n      setEmployees(employeeArray); // Teraz pracownicy z  początkowego stanu tablicy 'useState' employees -> zostają przypsiani do stałej employeeArray\n    }).then(() => setLoading(false)).catch(setError).catch(error => console.log(error));\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 29\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"pre\", {\n    children: JSON.stringify(error, null, 2)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 27\n  }, this);\n  if (!employees) return null; // Metoda która będzie się wywoływała po wciśnięciu jednego pracownika (wciśnięciu jednego przycisku), przekazywane jest do niej id bo endpoint wymaga id\n\n  const showSelectedEmployeeHandler = id => {\n    console.log(\"Employee nr: \" + id);\n    fetch(\"http://dummy.restapiexample.com/api/v1/employee/\" + id).then(res => {\n      return res.json();\n    }).then(res => {\n      // po przekazaniu argumentu z żądania metoda then określa co ma się stać kiedy otrzyma odpowiedź, która po otrzymaniu przypiszemy do funkcji w stacie\n      console.log(res, \"res po przekazaniu id\");\n      setSelectedEmployee(res.data //Tutaj zaszeregowane będą dane dotyczą imienia, wieku itd.\n      );\n    });\n  };\n\n  const saveEmployeeHandler = () => {\n    // obiekt JavaScriptowy (pracownik) do zapisu\n    const employeeToSave = {\n      \"name\": \"Tomek123\",\n      \"salary\": \"4500\",\n      \"age\": \"25\"\n    }; // Żądanie POST\n\n    fetch(\"http://dummy.restapiexample.com/api/v1/create\", {\n      method: \"POST\",\n      // headers: {\n      //   'Content-Type': 'application/json',\n      // },\n      body: employeeToSave //Dane które będziemy zapisywać,\n      // Jak powinno wyglądać ciało obiektu JavaScriptowego\n\n    }).then(res => {\n      return res.json();\n    }).then(res => console.log(res));\n  };\n\n  const deleteEmployeeHandler = () => {\n    // Będzie wysyłało zapytanie http z id na sztywno wpisanym w kodzie\n    const id = 2; // Stała id obiektu do usunięcia\n\n    fetch(\"http://dummy.restapiexample.com/api/v1/delete/\" + id, {\n      method: 'DELETE'\n    }).then(res => res.json()).then(res => console.log(res)).catch(err => console.log(err));\n  }; // Sprawdzenie aktualnej wartości selectedEmployee, jeżeli będzie różna od zera , to będzie tworzony komponent EmplyeeDetails\n\n\n  if (selectedEmployee !== null) {\n    return /*#__PURE__*/_jsxDEV(EmployeeDetails, {\n      name: selectedEmployee.employee_name,\n      salary: selectedEmployee.employee_salary,\n      age: selectedEmployee.employee_age\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this);\n  }\n\n  return (\n    /*#__PURE__*/\n    // W <Employees/> odwołuje się do stat-a employess\n    // Dopóki żadne pracownik nie zostanie wybrany będzie wyświetlany null ze stat-a\n    // \"saveEmployeeHandler\" Przycisk który na sztywno wpisuje dane pracownika w kod\n    _jsxDEV(\"main\", {\n      className: \"t-site-header\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"o-container\",\n        children: [selectedEmployee, /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"c-heading c-heading--level1 c-heading--white\",\n          children: \"Employees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Employees, {\n          employees: employees,\n          showSelectedEmployee: showSelectedEmployeeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"t-post-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveEmployeeHandler,\n            className: \"c-btn c-btn--accent\",\n            children: \"Save Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"t-post-list__divider\",\n            children: \"OR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: deleteEmployeeHandler,\n            className: \"c-btn c-btn--outline\",\n            children: \"Delete Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this) // W propsach przekazywana jest metoda showSelectedEmployeeHandler nazwa propsa to: 'showSelectedEmployee' \n    // metoda showSelectedEmployeeHandler przekazywana jest do komponentu employees\n\n  );\n};\n\n_s(App, \"oFFphs50dKdiuhlFMjkRjBua1lQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/krystian/CodersLab_JavaScript_Brudnopis/Emplyee-App/src/containers/App.js"],"names":["React","useState","useEffect","Employees","EmployeeDetails","App","employees","setEmployees","selectedEmployee","setSelectedEmployee","error","setError","loading","setLoading","fetch","method","then","res","json","console","log","data","status","employeeArray","catch","JSON","stringify","showSelectedEmployeeHandler","id","saveEmployeeHandler","employeeToSave","body","deleteEmployeeHandler","err","employee_name","employee_salary","employee_age"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport '../dev-assets/style.scss';\nimport Employees from '../components/Employees/Employees';\nimport EmployeeDetails from '../components/Employees/EmployeeDetails/EmployeeDetails';\n// Pobieranie danych z komponetu Reacta wymaga zastosaowania zaczepów useState, useEffect\n\nconst App = () => {\n  // Zaczep useState służy do przechowywania odpowiedzi w danych \n  const [employees, setEmployees] = useState([]);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n\n  const [error, setError] = useState(); // Obiekt error, dla monitorowania błedów\n  const [loading, setLoading] = useState(false);\n  // Gdy żądanie ma status w toku w elemencie h1 wyświetlany jest jest komunikat \n  \n  // w SelectedEmployee przechowywana jest informacja o jednym konkretnym pracowniku, dopóki żaden nie zostanie wybrany będzie wyświetlany 'null'\n\n  // Zaczep useEffect służy do wykonania żądania\n  useEffect(()=> {   \n    // Na adres puszczam żądanie GET aby dostać listę z pracownikami, która będzie zapisywana w stacie App, która będzie przekazywana do komponentu <Employees/>, najpierw komponenty się wyrenderują a potem zostanie puszczone zapytanie HTTP, po otrzymaniu odpowiedzi asynchronicznie zaktualizuje się nasz stan\n    // (fetch = sprowadzać)\n    fetch\n      ('http://dummy.restapiexample.com/api/v1/employees', {\n        method: 'GET',\n        // headers: {\n          //   'Content-Type': 'application/json'\n          // },\n          // body: JSON.stringify({\n            \n            // })\n          })\n          .then(res => res.json())\n          .then(res => {\n            console.log(res.data);\n            console.log(res.status);\n            \n            const employeeArray = res.data;\n            console.log(employeeArray, \"employeeArray\")\n            // W stałej employees zapisuje to co nam zwraca ta metoda\n            setEmployees(employeeArray);\n            // Teraz pracownicy z  początkowego stanu tablicy 'useState' employees -> zostają przypsiani do stałej employeeArray\n          })\n          .then(()=> setLoading(false))\n          .catch(setError)\n          .catch(error => console.log(error))\n        \n        }, []);\n\n        if (loading) return <h1>loading...</h1>;\n        if (error) return <pre>{JSON.stringify(error, null, 2)}</pre>;\n        if(!employees) return null;\n        \n  // Metoda która będzie się wywoływała po wciśnięciu jednego pracownika (wciśnięciu jednego przycisku), przekazywane jest do niej id bo endpoint wymaga id\n  const showSelectedEmployeeHandler = (id) => {\n    console.log(\"Employee nr: \" + id);\n    fetch(\"http://dummy.restapiexample.com/api/v1/employee/\" + id)\n    .then(res => {\n      return res.json()\n    })\n    .then(res => {\n      // po przekazaniu argumentu z żądania metoda then określa co ma się stać kiedy otrzyma odpowiedź, która po otrzymaniu przypiszemy do funkcji w stacie\n      console.log(res, \"res po przekazaniu id\");\n        setSelectedEmployee(res.data\n        //Tutaj zaszeregowane będą dane dotyczą imienia, wieku itd.\n      );\n    });\n  }\n\n  const saveEmployeeHandler = () => {\n    // obiekt JavaScriptowy (pracownik) do zapisu\n    const employeeToSave = {\n      \"name\": \"Tomek123\",\n      \"salary\": \"4500\",\n      \"age\": \"25\"\n    }\n    // Żądanie POST\n    fetch(\"http://dummy.restapiexample.com/api/v1/create\",\n    {\n      method: \"POST\",\n      // headers: {\n      //   'Content-Type': 'application/json',\n      // },\n      body: employeeToSave//Dane które będziemy zapisywać,\n      // Jak powinno wyglądać ciało obiektu JavaScriptowego\n    })\n    .then(res => {\n      return res.json();\n    })\n    .then(res => console.log(res));\n  }\n\n  const deleteEmployeeHandler = () => {\n    // Będzie wysyłało zapytanie http z id na sztywno wpisanym w kodzie\n    const id = 2; // Stała id obiektu do usunięcia\n    fetch(\"http://dummy.restapiexample.com/api/v1/delete/\" + id, {\n      method: 'DELETE'\n    })  \n    .then(res => res.json())\n    .then(res => console.log(res))\n    .catch(err => console.log(err))\n  }\n  // Sprawdzenie aktualnej wartości selectedEmployee, jeżeli będzie różna od zera , to będzie tworzony komponent EmplyeeDetails\n  if(selectedEmployee !== null){ \n    return (\n    <EmployeeDetails \n    name={selectedEmployee.employee_name}\n    salary={selectedEmployee.employee_salary}\n    age={selectedEmployee.employee_age}\n    /> )\n  }\n\n  return (\n// W <Employees/> odwołuje się do stat-a employess\n// Dopóki żadne pracownik nie zostanie wybrany będzie wyświetlany null ze stat-a\n      // \"saveEmployeeHandler\" Przycisk który na sztywno wpisuje dane pracownika w kod\n      <main className='t-site-header'>\n        <section className='o-container'>\n        {selectedEmployee}\n          <h1 className='c-heading c-heading--level1 c-heading--white'>Employees</h1>\n    \n          <Employees employees={employees} showSelectedEmployee={showSelectedEmployeeHandler}/>\n            <div className='t-post-list'>\n              <button onClick={saveEmployeeHandler} className='c-btn c-btn--accent'>Save Employee</button>\n              <span className=\"t-post-list__divider\">OR</span>\n              <button onClick={deleteEmployeeHandler} className='c-btn c-btn--outline'>Delete Employee</button>\n            </div>\n          </section>\n        </main>\n        // W propsach przekazywana jest metoda showSelectedEmployeeHandler nazwa propsa to: 'showSelectedEmployee' \n        // metoda showSelectedEmployeeHandler przekazywana jest do komponentu employees\n    );\n  }\n\nexport default App;"]},"metadata":{},"sourceType":"module"}